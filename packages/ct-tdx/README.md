# ct-tdx

Package with methods for interacting with the TeamDynamix API

Note: Work and documentation in progress

## Installation

```bash
npm install @mikesprague/ct-tdx
```

## Usage

```javascript
import * as tdx from '@mikesprague/ct-tdx';

await tdx.createTicket({...})
```

or

```javascript
import { createTicket } from '@mikesprague/ct-tdx';

await createTicket({...})
```

See API section below for docs on each method available

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [getAuthToken](#getauthtoken)
    *   [Parameters](#parameters)
    *   [Examples](#examples)
*   [makeApiCall](#makeapicall)
    *   [Parameters](#parameters-1)
    *   [Examples](#examples-1)
*   [getTicket](#getticket)
    *   [Parameters](#parameters-2)
    *   [Examples](#examples-2)
*   [createTicket](#createticket)
    *   [Parameters](#parameters-3)
    *   [Examples](#examples-3)
*   [getCloudTeamTicketDefaults](#getcloudteamticketdefaults)
    *   [Examples](#examples-4)

### getAuthToken

#### Parameters

*   `obj` **getAuthTokenParams** object with parameters

    *   `obj.username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.password` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.apiBaseUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.userAgent` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**  (optional, default `'CIT Cloud Team Automation'`)

#### Examples

```javascript
const authToken = await getAuthToken({
  username: 'your-username',
  password: 'super-secret-string',
  apiBaseUrl: 'https://tdx.your.domain/TDWebApi/api'
});
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** with authToken data

### makeApiCall

#### Parameters

*   `obj` **makeApiCallParams** object with parameters

    *   `obj.apiBaseUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.endpointPath` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.authToken` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.requestMethod` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**  (optional, default `'OPTIONS'`)
    *   `obj.userAgent` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**  (optional, default `'CIT Cloud Team Automation'`)
    *   `obj.requestBody` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `null`)

#### Examples

```javascript
const apiData = await makeApiCall({
  apiBaseUrl: 'https://tdx.your.domain/TDWebApi/api',
  endpointPath: '/people/lookup?searchText=',
  authToken,
  method: 'GET'
});
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<any>** Object with JSON data

### getTicket

#### Parameters

*   `obj` **getTicketParams** with parameters

    *   `obj.ticketId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**&#x20;
    *   `obj.authToken` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.apiBaseUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.appId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**&#x20;

#### Examples

```javascript
const ticketData = await getTicket({
  ticketId: 123456,
  authToken,
  apiBaseUrl: 'https://tdx.your.domain/TDWebApi/api',
  appId: 99,
});
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<any>** Object with JSON data

### createTicket

#### Parameters

*   `obj` **createTicketParams** with parameters

    *   `obj.authToken` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.apiBaseUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**&#x20;
    *   `obj.appId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**&#x20;
    *   `obj.ticketData` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)**&#x20;

#### Examples

```javascript
const newTicket = await createTicket({
  authToken,
  apiBaseUrl: 'https://tdx.your.domain/TDWebApi/api',
  appId: 99,
  ticketData: objectWithNewTicketData,
});
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<any>** Object with JSON data for new ticket

### getCloudTeamTicketDefaults

#### Examples

```javascript
await getCloudTeamTicketDefaults('https://url-for-endpoint.with/automated-ticket-defaults.json');
```

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** with JSON data

## Changelog

[Changelog](https://github.com/mikesprague/packages/blob/main/packages/ct-tdx/CHANGELOG.md)
